@page
@model HasanAkca_Proje.Pages.KitapDetayModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

        <style>
            body {
                background-image: url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8bGlicmFyeXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80');
                background-size: cover
            }
        </style>
    </head>
    <body>
        <div class="container-fluid text-center">


            <div class="row h-10">
                <nav class="navbar navbar-light d-flex flex-row-reverse" style="background-color:#177FBF;border-bottom:2px solid #402504">

                    <span class="navbar-brand mb-0 h1 text-white">Hoşgeldin @Model.Ad</span>
                    <div class=" col-3  d-flex justify-content-center">
                        <a href="Anasayfa" class="btn btn-primary ml-5" style="background-color:#F25041">

                            <span class="navbar-brand mb-0 h1 text-white mx-auto" style="font-size:1.05rem">Anasayfa</span>
                        </a>
                    </div>



                </nav>
            </div>
            <form method="post" class="form">
                <div class="row">
                    <div class="col-3 mt-3 position-fixed">
                        <div class="card rounded " style="height:42rem; border:2px solid #402504">
                            @if (Model.KitapListe != null)
                            {
                                foreach (var item in @Model.KitapListe)
                                {
                            <div class="h-100 col-12 " style="background-color:#177FBF;border: 2px solid #402504;">
                                <img src="@item.kitapAdres" class=" card-img-top rounded col-12 mt-2" alt="MISSING GIF" style="border: 2px solid #402504;width:80%" />
                                <div class="row">
                                    <div class="col-12 d-flex justify-content-center">
                                        <h6 class="col-xl-12 col-12 mt-1  m-auto" style="color:#E1E6FA">@item.kitapAd</h6>
                                    </div>
                                    <div class="col-12 d-flex justify-content-center">
                                        <h6 class="col-xl-12 col-12 mt-1 m-auto" style="color:#E1E6FA">@item.kitapYazar</h6>
                                    </div>
                                </div>
                                    <h6 class="col-12 mt-3 d-flex justify-content-center" style="color:#E1E6FA">Ortalama Puan: @((item.kitapPuan/item.oylayanSayi).ToString().Substring(0,3)) / 5 (@item.oylayanSayi)</h6>
                                    <div class="row mt-4 col-12 m-auto" style="color:white">

                                        <h6 class="col-12 col-xl-4 col-md-12 col-l-12  d-flex justify-content-center " style="color:#E1E6FA">PUAN VER: </h6>

                                        <div class="form-check col-12 col-xl-1 d-flex justify-content-center ">
                                            @Html.RadioButtonFor(Model => Model.Puan, "1")
                                            <label class="form-check-label" for="flexRadioDefault1">
                                                1
                                            </label>
                                        </div>
                                        <div class="form-check col-12 col-xl-1 d-flex justify-content-center ">
                                            @Html.RadioButtonFor(Model => Model.Puan, "2")
                                            <label class="form-check-label" for="flexRadioDefault2">
                                                2
                                            </label>
                                        </div>
                                       
                                        <div class="form-check col-12 col-xl-1 d-flex justify-content-center ">
                                            @Html.RadioButtonFor(Model => Model.Puan, "3")
                                            <label class="form-check-label" for="flexRadioDefault3">
                                                3
                                            </label>
                                        </div>
                                        <div class="form-check col-12 col-xl-1 d-flex justify-content-center ">
                                            @Html.RadioButtonFor(Model => Model.Puan, "4")
                                            <label class="form-check-label" for="flexRadioDefault4">
                                                4
                                            </label>
                                        </div>
                                        <div class="form-check col-12 col-xl-1 d-flex justify-content-center ">
                                            @Html.RadioButtonFor(Model => Model.Puan, "5")
                                            <label class="form-check-label" for="flexRadioDefault5">
                                                5
                                            </label>
                                        </div>
                                        
                                        <strong><span asp-validation-for="Puan" class="text-light font-weight-bold"></span></strong>
                                    </div>


                                </div>
                                }
                                }




                            </div>
                    </div>
                    <div class="col-12  d-flex justify-content-end mt-3">
                        <div class="col-9    d-flex justify-content-center " style=" border:5px solid #402504;background-color:#177FBF">
                            <div class="col-9 ">
                                <div class="col-12 mt-3" style="height:35rem; background-color:#177FBF;border: 2px solid #402504;">
                                    <textarea class="form-control h-100" rows="30" placeholder="Özetini buraya yaz." style="color:#402504" asp-for="yorum"></textarea>

                                </div>
                                <div class="row m-auto">
                                    <div class="col-6 d-flex justify-content-start "> <strong><span asp-validation-for="yorum" class="text-light"></span></strong></div>

                                    <div class="col-6 d-flex justify-content-end">

                                        <input id="Submit1" type="submit" class="btn btn-primary mt-2 mb-2 " value="Gönder" style="background-color:#F25041" />

                                    </div>
                                </div>
                                
                                @if (Model.YorumListe != null)
                                {
                                    foreach (var item in Model.YorumListe)
                                    {
                                        <div class="row ">
                                            <div class="col-3 mt-3 rounded d-flex align-items-center flex-column " style="height:13rem; ">

                                                <img src="~/Resimler/noFace.jpg" class=" card-img-top rounded col-12 mt-1" alt="MISSING GIF" style="border: 2px solid #402504;width:80%" />
                                                <h6 class="col-12 mt-1" style="color:#E1E6FA">@item.OgrenciAd @item.OgrenciSoyad</h6>
                                            </div>

                                            <div class="col-9 mt-3 mb-5 rounded d-flex align-items-end flex-column" style=" background-color:#FFEDE6;">

                                                <div class="p mt-4 mb-2 col-10  text-end mx-auto"><strong  class="p m-auto">@item.Tarih.Replace('.', ' ')</strong></div>
                                                <div class="text-start col-10 m-auto">
                                                    @foreach (var paragraf in item.Yorum.Trim().Split("\n"))
                                                    {
                                                        if (paragraf.Length > 1)
                                                        {
                                                            <p class="p mb-3 ml-5 mr-5" style="text-align:justify">&nbsp;&nbsp;&nbsp;&nbsp;   @paragraf</p>
                                                        }


                                                    }
                                                    <p class="p mb-5 ml-5 mr-5"></p>

                                                </div>



                                            </div>

                                        </div>
                                    }
                                }






                            </div>

                        </div>

                    </div>

                </div>
            </form>
        </div>
    </body>
}
